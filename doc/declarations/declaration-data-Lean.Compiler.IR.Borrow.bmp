{"name":"Lean.Compiler.IR.Borrow","instances":[{"typeNames":["Lean.IR.Borrow.OwnedSet.Key"],"name":"Lean.IR.Borrow.OwnedSet.instBEqKey","className":"BEq"},{"typeNames":["Lean.IR.Borrow.OwnedSet.Key"],"name":"Lean.IR.Borrow.OwnedSet.instHashableKey","className":"Hashable"},{"typeNames":["Lean.IR.Borrow.ParamMap.Key"],"name":"Lean.IR.Borrow.ParamMap.instBEqKey","className":"BEq"},{"typeNames":["Lean.IR.Borrow.ParamMap.Key"],"name":"Lean.IR.Borrow.ParamMap.instHashableKey","className":"Hashable"},{"typeNames":["Lean.IR.Borrow.ParamMap"],"name":"Lean.IR.Borrow.instToFormatParamMap","className":"Std.ToFormat"},{"typeNames":["Lean.IR.Borrow.ParamMap"],"name":"Lean.IR.Borrow.instToStringParamMap","className":"ToString"}],"imports":["Init","Lean.Compiler.ExportAttr","Lean.Compiler.IR.CompilerM","Lean.Compiler.IR.NormIds"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L310-L313","name":"Lean.IR.inferBorrow","line":310,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.inferBorrow","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.inferBorrow\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">inferBorrow</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(decls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/CompilerM.html#Lean.IR.CompilerM\">Lean.IR.CompilerM</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L305-L306","name":"Lean.IR.Borrow.infer","line":305,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.infer","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.infer\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">infer</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(env : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(decls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L300-L303","name":"Lean.IR.Borrow.collectDecls","line":300,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectDecls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectDecls\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">collectDecls</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L291-L298","name":"Lean.IR.Borrow.whileModifing","line":291,"kind":"opaque","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.whileModifing","doc":"Keep executing `x` until it reaches a fixpoint "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.whileModifing\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">whileModifing</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(x : <span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L283-L288","name":"Lean.IR.Borrow.collectDecl","line":283,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectDecl","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectDecl\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">collectDecl</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a> → <span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L268-L281","name":"Lean.IR.Borrow.collectFnBody","line":268,"kind":"opaque","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectFnBody","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectFnBody\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">collectFnBody</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FnBody\">Lean.IR.FnBody</a> → <span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L265-L266","name":"Lean.IR.Borrow.updateParamSet","line":265,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.updateParamSet","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.updateParamSet\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">updateParamSet</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(ctx : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">Lean.IR.Borrow.BorrowInfCtx</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(ps : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Lean.IR.Param</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">Lean.IR.Borrow.BorrowInfCtx</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L256-L263","name":"Lean.IR.Borrow.preserveTailCall","line":256,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.preserveTailCall","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.preserveTailCall\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">preserveTailCall</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(x : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.VarId\">Lean.IR.VarId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(v : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Expr\">Lean.IR.Expr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(b : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FnBody\">Lean.IR.FnBody</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L242-L254","name":"Lean.IR.Borrow.collectExpr","line":242,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectExpr","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.collectExpr\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">collectExpr</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(z : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.VarId\">Lean.IR.VarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Expr\">Lean.IR.Expr</a> → <span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L235-L240","name":"Lean.IR.Borrow.ownArgsIfParam","line":235,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgsIfParam","doc":"Mark `xs[i]` as owned if it is one of the parameters `ps`.\nWe use this action to mark function parameters that are being \"packed\" inside constructors.\nThis is a heuristic, and is not related with the effectiveness of the reset/reuse optimization.\nIt is useful for code such as\n```\ndef f (x y : obj) :=\nlet z := ctor_1 x y;\nret z\n```\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgsIfParam\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownArgsIfParam</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(xs : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Arg\">Lean.IR.Arg</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L217-L223","name":"Lean.IR.Borrow.ownParamsUsingArgs","line":217,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownParamsUsingArgs","doc":"For each xs[i], if xs[i] is owned, then mark ps[i] as owned.\nWe use this action to preserve tail calls. That is, if we have\na tail call `f xs`, if the i-th parameter is borrowed, but `xs[i]` is owned\nwe would have to insert a `dec xs[i]` after `f xs` and consequently\n\"break\" the tail call. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownParamsUsingArgs\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownParamsUsingArgs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(xs : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Arg\">Lean.IR.Arg</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(ps : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Lean.IR.Param</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L206-L210","name":"Lean.IR.Borrow.ownArgsUsingParams","line":206,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgsUsingParams","doc":"For each ps[i], if ps[i] is owned, then mark xs[i] as owned. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgsUsingParams\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownArgsUsingParams</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(xs : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Arg\">Lean.IR.Arg</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(ps : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Lean.IR.Param</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L192-L203","name":"Lean.IR.Borrow.getParamInfo","line":192,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.getParamInfo","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.getParamInfo\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">getParamInfo</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(k : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Lean.IR.Borrow.ParamMap.Key</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Lean.IR.Param</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L178-L190","name":"Lean.IR.Borrow.updateParamMap","line":178,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.updateParamMap","doc":"Updates `map[k]` using the current set of `owned` variables. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.updateParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">updateParamMap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(k : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Lean.IR.Borrow.ParamMap.Key</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L172-L175","name":"Lean.IR.Borrow.isOwned","line":172,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.isOwned","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.isOwned\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">isOwned</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(x : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.VarId\">Lean.IR.VarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L169-L170","name":"Lean.IR.Borrow.ownArgs","line":169,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgs","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArgs\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownArgs</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(xs : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Arg\">Lean.IR.Arg</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L164-L167","name":"Lean.IR.Borrow.ownArg","line":164,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArg","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownArg\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownArg</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(x : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Arg\">Lean.IR.Arg</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L158-L162","name":"Lean.IR.Borrow.ownVar","line":158,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownVar","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ownVar\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ownVar</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(x : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.VarId\">Lean.IR.VarId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L155-L156","name":"Lean.IR.Borrow.markModified","line":155,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.markModified","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.markModified\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">markModified</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L151-L153","name":"Lean.IR.Borrow.getCurrFn","line":151,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.getCurrFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.getCurrFn\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">getCurrFn</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\">Lean.IR.Borrow.M</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">Lean.IR.FunId</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L149-L149","name":"Lean.IR.Borrow.M","line":149,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.M\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">M</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(α : <a href=\"./foundational_types.html\">Type</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L147-L147","name":"Lean.IR.Borrow.BorrowInfState.paramMap","line":147,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.paramMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.paramMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfState</span>.<span class=\"name\">paramMap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState\">Lean.IR.Borrow.BorrowInfState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L146-L146","name":"Lean.IR.Borrow.BorrowInfState.modified","line":146,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.modified","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.modified\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfState</span>.<span class=\"name\">modified</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState\">Lean.IR.Borrow.BorrowInfState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L145-L145","name":"Lean.IR.Borrow.BorrowInfState.owned","line":145,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.owned","doc":"Set of variables that must be `owned`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.owned\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfState</span>.<span class=\"name\">owned</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState\">Lean.IR.Borrow.BorrowInfState</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\">Lean.IR.Borrow.OwnedSet</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L143-L147","name":"Lean.IR.Borrow.BorrowInfState","line":143,"kind":"structure","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfState</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L141-L141","name":"Lean.IR.Borrow.BorrowInfCtx.paramSet","line":141,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.paramSet","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.paramSet\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span>.<span class=\"name\">paramSet</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">Lean.IR.Borrow.BorrowInfCtx</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.IndexSet\">Lean.IR.IndexSet</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L140-L140","name":"Lean.IR.Borrow.BorrowInfCtx.currFn","line":140,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.currFn","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.currFn\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span>.<span class=\"name\">currFn</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">Lean.IR.Borrow.BorrowInfCtx</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">Lean.IR.FunId</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L139-L139","name":"Lean.IR.Borrow.BorrowInfCtx.decls","line":139,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.decls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.decls\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span>.<span class=\"name\">decls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">Lean.IR.Borrow.BorrowInfCtx</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L138-L138","name":"Lean.IR.Borrow.BorrowInfCtx.env","line":138,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.env","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.env\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span>.<span class=\"name\">env</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">Lean.IR.Borrow.BorrowInfCtx</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L137-L141","name":"Lean.IR.Borrow.BorrowInfCtx","line":137,"kind":"structure","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L134-L135","name":"Lean.IR.Borrow.applyParamMap","line":134,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.applyParamMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.applyParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">applyParamMap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(decls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(map : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L123-L130","name":"Lean.IR.Borrow.ApplyParamMap.visitDecls","line":123,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ApplyParamMap.visitDecls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ApplyParamMap.visitDecls\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ApplyParamMap</span>.<span class=\"name\">visitDecls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(decls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(paramMap : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L107-L121","name":"Lean.IR.Borrow.ApplyParamMap.visitFnBody","line":107,"kind":"opaque","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ApplyParamMap.visitFnBody","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ApplyParamMap.visitFnBody\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ApplyParamMap</span>.<span class=\"name\">visitFnBody</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fn : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">Lean.IR.FunId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(paramMap : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FnBody\">Lean.IR.FnBody</a> → <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FnBody\">Lean.IR.FnBody</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L100-L101","name":"Lean.IR.Borrow.mkInitParamMap","line":100,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.mkInitParamMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.mkInitParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">mkInitParamMap</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(env : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(decls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L91-L97","name":"Lean.IR.Borrow.InitParamMap.visitDecls","line":91,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.visitDecls","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.visitDecls\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">InitParamMap</span>.<span class=\"name\">visitDecls</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(env : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(decls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Control/State.html#StateM\">StateM</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L80-L89","name":"Lean.IR.Borrow.InitParamMap.visitFnBody","line":80,"kind":"opaque","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.visitFnBody","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.visitFnBody\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">InitParamMap</span>.<span class=\"name\">visitFnBody</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(fnid : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">Lean.IR.FunId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FnBody\">Lean.IR.FnBody</a> → <span class=\"fn\"><a href=\"./Init/Control/State.html#StateM\">StateM</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L77-L78","name":"Lean.IR.Borrow.InitParamMap.initBorrowIfNotExported","line":77,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.initBorrowIfNotExported","doc":"We do perform borrow inference for constants marked as `export`.\nReason: we current write wrappers in C++ for using exported functions.\nThese wrappers use smart pointers such as `object_ref`.\nWhen writing a new wrapper we need to know whether an argument is a borrow\ninference or not.\nWe can revise this decision when we implement code for generating\nthe wrappers automatically. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.initBorrowIfNotExported\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">InitParamMap</span>.<span class=\"name\">initBorrowIfNotExported</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(exported : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(ps : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Lean.IR.Param</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Lean.IR.Param</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L67-L68","name":"Lean.IR.Borrow.InitParamMap.initBorrow","line":67,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.initBorrow","doc":"Mark parameters that take a reference as borrow "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.InitParamMap.initBorrow\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">InitParamMap</span>.<span class=\"name\">initBorrow</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(ps : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Lean.IR.Param</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Param\">Lean.IR.Param</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L63-L63","name":"Lean.IR.Borrow.instToStringParamMap","line":63,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.instToStringParamMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.instToStringParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">instToStringParamMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/ToString/Basic.html#ToString\">ToString</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L62-L62","name":"Lean.IR.Borrow.instToFormatParamMap","line":62,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.instToFormatParamMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.instToFormatParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">instToFormatParamMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/Format/Basic.html#Std.ToFormat\">Lean.ToFormat</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L53-L60","name":"Lean.IR.Borrow.ParamMap.fmt","line":53,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.fmt","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.fmt\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">fmt</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(map : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Data/Format/Basic.html#Std.Format\">Lean.Format</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L51-L51","name":"Lean.IR.Borrow.ParamMap","line":51,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L47-L47","name":"Lean.IR.Borrow.ParamMap.instHashableKey","line":47,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.instHashableKey","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.instHashableKey\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">instHashableKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Hashable\">Hashable</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Lean.IR.Borrow.ParamMap.Key</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L43-L45","name":"Lean.IR.Borrow.ParamMap.getHash","line":43,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.getHash","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.getHash\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">getHash</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Lean.IR.Borrow.ParamMap.Key</a> → <a href=\"./Init/Prelude.html#UInt64\">UInt64</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L41-L41","name":"Lean.IR.Borrow.ParamMap.instBEqKey","line":41,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.instBEqKey","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.instBEqKey\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">instBEqKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#BEq\">BEq</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Lean.IR.Borrow.ParamMap.Key</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L40-L40","name":"Lean.IR.Borrow.ParamMap.Key.jp","line":40,"kind":"ctor","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key.jp","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key.jp\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">Key</span>.<span class=\"name\">jp</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(name : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">Lean.IR.FunId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(jpid : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.JoinPointId\">Lean.IR.JoinPointId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Lean.IR.Borrow.ParamMap.Key</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L39-L39","name":"Lean.IR.Borrow.ParamMap.Key.decl","line":39,"kind":"ctor","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key.decl","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key.decl\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">Key</span>.<span class=\"name\">decl</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(name : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">Lean.IR.FunId</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\">Lean.IR.Borrow.ParamMap.Key</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L38-L41","name":"Lean.IR.Borrow.ParamMap.Key","line":38,"kind":"inductive","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">inductive</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap.Key\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">ParamMap</span>.<span class=\"name\">Key</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L30-L30","name":"Lean.IR.Borrow.OwnedSet.contains","line":30,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.contains","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.contains\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">contains</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\">Lean.IR.Borrow.OwnedSet</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(k : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Lean.IR.Borrow.OwnedSet.Key</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L29-L29","name":"Lean.IR.Borrow.OwnedSet.insert","line":29,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.insert","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.insert\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">insert</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\">Lean.IR.Borrow.OwnedSet</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(k : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Lean.IR.Borrow.OwnedSet.Key</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\">Lean.IR.Borrow.OwnedSet</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L28-L28","name":"Lean.IR.Borrow.OwnedSet","line":28,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L24-L24","name":"Lean.IR.Borrow.OwnedSet.instHashableKey","line":24,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.instHashableKey","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.instHashableKey\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">instHashableKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Hashable\">Hashable</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Lean.IR.Borrow.OwnedSet.Key</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L22-L23","name":"Lean.IR.Borrow.OwnedSet.getHash","line":22,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.getHash","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.getHash\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">getHash</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Lean.IR.Borrow.OwnedSet.Key</a> → <a href=\"./Init/Prelude.html#UInt64\">UInt64</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L20-L20","name":"Lean.IR.Borrow.OwnedSet.instBEqKey","line":20,"kind":"instance","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.instBEqKey","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.instBEqKey\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">instBEqKey</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#BEq\">BEq</a> <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Lean.IR.Borrow.OwnedSet.Key</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L17-L18","name":"Lean.IR.Borrow.OwnedSet.beq","line":17,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.beq","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.beq\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">beq</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Lean.IR.Borrow.OwnedSet.Key</a> → <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\">Lean.IR.Borrow.OwnedSet.Key</a> → <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L15-L15","name":"Lean.IR.Borrow.OwnedSet.Key","line":15,"kind":"def","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet.Key\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">OwnedSet</span>.<span class=\"name\">Key</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L1-L1","name":"Lean.IR.Borrow.BorrowInfCtx.mk","line":1,"kind":"ctor","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfCtx</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(env : <a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(decls : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.Decl\">Lean.IR.Decl</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(currFn : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.FunId\">Lean.IR.FunId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(paramSet : <a href=\"./Lean/Compiler/IR/Basic.html#Lean.IR.IndexSet\">Lean.IR.IndexSet</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfCtx\">Lean.IR.Borrow.BorrowInfCtx</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Compiler/IR/Borrow.lean#L1-L1","name":"Lean.IR.Borrow.BorrowInfState.mk","line":1,"kind":"ctor","docLink":"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">IR</span>.<span class=\"name\">Borrow</span>.<span class=\"name\">BorrowInfState</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(owned : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.OwnedSet\">Lean.IR.Borrow.OwnedSet</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(modified : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(paramMap : <a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.ParamMap\">Lean.IR.Borrow.ParamMap</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Compiler/IR/Borrow.html#Lean.IR.Borrow.BorrowInfState\">Lean.IR.Borrow.BorrowInfState</a></div></div>"}]}