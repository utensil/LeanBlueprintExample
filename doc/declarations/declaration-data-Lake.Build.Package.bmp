{"name":"Lake.Build.Package","instances":[],"imports":["Init","Lake.Util.Sugar","Lake.Build.Common","Lake.Build.Targets"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/lake/Lake/Build/Package.lean#L88-L92","name":"Lake.initPackageFacetConfigs","line":88,"kind":"def","docLink":"./Lake/Build/Package.html#Lake.initPackageFacetConfigs","doc":"A package facet name to build function map that contains builders for\nthe initial set of Lake package facets (e.g., `extraDep`).\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Package.html#Lake.initPackageFacetConfigs\"><span class=\"name\">Lake</span>.<span class=\"name\">initPackageFacetConfigs</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Util/Name.html#Lake.DNameMap\">Lake.DNameMap</a> <a href=\"./Lake/Config/FacetConfig.html#Lake.PackageFacetConfig\">Lake.PackageFacetConfig</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/lake/Lake/Build/Package.lean#L77-L81","name":"Lake.Package.afterReleaseSync","line":77,"kind":"def","docLink":"./Lake/Build/Package.html#Lake.Package.afterReleaseSync","doc":"Perform a build after first checking for a cloud release for the package. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Package.html#Lake.Package.afterReleaseSync\"><span class=\"name\">Lake</span>.<span class=\"name\">Package</span>.<span class=\"name\">afterReleaseSync</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/Package.html#Lake.Package\">Lake.Package</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(build : <span class=\"fn\"><a href=\"./Lake/Build/Context.html#Lake.BuildM\">Lake.BuildM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Info.html#Lake.IndexBuildM\">Lake.IndexBuildM</a> (<span class=\"fn\"><a href=\"./Lake/Build/Job.html#Lake.Job\">Lake.Job</a> <span class=\"fn\">α</span></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/lake/Lake/Build/Package.lean#L70-L74","name":"Lake.Package.afterReleaseAsync","line":70,"kind":"def","docLink":"./Lake/Build/Package.html#Lake.Package.afterReleaseAsync","doc":"Perform a build job after first checking for a cloud release for the package. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Package.html#Lake.Package.afterReleaseAsync\"><span class=\"name\">Lake</span>.<span class=\"name\">Package</span>.<span class=\"name\">afterReleaseAsync</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/Package.html#Lake.Package\">Lake.Package</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(build : <span class=\"fn\"><a href=\"./Lake/Build/Context.html#Lake.SchedulerM\">Lake.SchedulerM</a> (<span class=\"fn\"><a href=\"./Lake/Build/Job.html#Lake.Job\">Lake.Job</a> <span class=\"fn\">α</span></span>)</span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Info.html#Lake.IndexBuildM\">Lake.IndexBuildM</a> (<span class=\"fn\"><a href=\"./Lake/Build/Job.html#Lake.Job\">Lake.Job</a> <span class=\"fn\">α</span></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/lake/Lake/Build/Package.lean#L66-L67","name":"Lake.Package.releaseFacetConfig","line":66,"kind":"def","docLink":"./Lake/Build/Package.html#Lake.Package.releaseFacetConfig","doc":"The `PackageFacetConfig` for the builtin `releaseFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Package.html#Lake.Package.releaseFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Package</span>.<span class=\"name\">releaseFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.PackageFacetConfig\">Lake.PackageFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Package.releaseFacet\">Lake.Package.releaseFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/lake/Lake/Build/Package.lean#L48-L63","name":"Lake.Package.fetchRelease","line":48,"kind":"def","docLink":"./Lake/Build/Package.html#Lake.Package.fetchRelease","doc":"Download and unpack the package's prebuilt release archive (from GitHub). "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Package.html#Lake.Package.fetchRelease\"><span class=\"name\">Lake</span>.<span class=\"name\">Package</span>.<span class=\"name\">fetchRelease</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/Package.html#Lake.Package\">Lake.Package</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Context.html#Lake.SchedulerM\">Lake.SchedulerM</a> (<span class=\"fn\"><a href=\"./Lake/Build/Job.html#Lake.BuildJob\">Lake.BuildJob</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/lake/Lake/Build/Package.lean#L44-L45","name":"Lake.Package.extraDepFacetConfig","line":44,"kind":"def","docLink":"./Lake/Build/Package.html#Lake.Package.extraDepFacetConfig","doc":"The `PackageFacetConfig` for the builtin `dynlibFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Package.html#Lake.Package.extraDepFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Package</span>.<span class=\"name\">extraDepFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.PackageFacetConfig\">Lake.PackageFacetConfig</a> <a href=\"./Lake/Build/Facets.html#Lake.Package.extraDepFacet\">Lake.Package.extraDepFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/lake/Lake/Build/Package.lean#L30-L41","name":"Lake.Package.recBuildExtraDepTargets","line":30,"kind":"def","docLink":"./Lake/Build/Package.html#Lake.Package.recBuildExtraDepTargets","doc":"Build the `extraDepTargets` for the package and its transitive dependencies.\nAlso fetch pre-built releases for the package's' dependencies.\n"},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Package.html#Lake.Package.recBuildExtraDepTargets\"><span class=\"name\">Lake</span>.<span class=\"name\">Package</span>.<span class=\"name\">recBuildExtraDepTargets</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/Package.html#Lake.Package\">Lake.Package</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Info.html#Lake.IndexBuildM\">Lake.IndexBuildM</a> (<span class=\"fn\"><a href=\"./Lake/Build/Job.html#Lake.BuildJob\">Lake.BuildJob</a> <a href=\"./Init/Prelude.html#Unit\">Unit</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/lake/Lake/Build/Package.lean#L23-L24","name":"Lake.Package.depsFacetConfig","line":23,"kind":"def","docLink":"./Lake/Build/Package.html#Lake.Package.depsFacetConfig","doc":"The `PackageFacetConfig` for the builtin `depsFacet`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Package.html#Lake.Package.depsFacetConfig\"><span class=\"name\">Lake</span>.<span class=\"name\">Package</span>.<span class=\"name\">depsFacetConfig</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Config/FacetConfig.html#Lake.PackageFacetConfig\">Lake.PackageFacetConfig</a> <a href=\"./Lake/Build/Info.html#Lake.Package.depsFacet\">Lake.Package.depsFacet</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/lake/Lake/Build/Package.lean#L18-L20","name":"Lake.Package.recComputeDeps","line":18,"kind":"def","docLink":"./Lake/Build/Package.html#Lake.Package.recComputeDeps","doc":"Compute a topological ordering of the package's transitive dependencies. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lake/Build/Package.html#Lake.Package.recComputeDeps\"><span class=\"name\">Lake</span>.<span class=\"name\">Package</span>.<span class=\"name\">recComputeDeps</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lake/Config/Package.html#Lake.Package\">Lake.Package</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lake/Build/Info.html#Lake.IndexBuildM\">Lake.IndexBuildM</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lake/Config/Package.html#Lake.Package\">Lake.Package</a></span>)</span></div></div>"}]}