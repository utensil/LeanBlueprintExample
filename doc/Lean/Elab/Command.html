<html lang="en"><head><meta charset="UTF-8"></meta><meta name="viewport" content="width=device-width, initial-scale=1"></meta><link rel="stylesheet" href="../.././style.css"></link><link rel="stylesheet" href="../.././src/pygments.css"></link><link rel="shortcut icon" href="../.././favicon.ico"></link><link rel="prefetch" href="../.././/declarations/declaration-data.bmp" as="image"></link><title>Lean.Elab.Command</title><script defer="true" src="../.././mathjax-config.js"></script><script defer="true" src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script defer="true" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script><script>const SITE_ROOT="../.././";</script><script>const MODULE_NAME="Lean.Elab.Command";</script><script type="module" src="../.././jump-src.js"></script><script type="module" src="../.././search.js"></script><script type="module" src="../.././expand-nav.js"></script><script type="module" src="../.././how-about.js"></script><script type="module" src="../.././instances.js"></script><script type="module" src="../.././importedBy.js"></script></head><body><input id="nav_toggle" type="checkbox"></input><header><h1><label for="nav_toggle"></label>Documentation</h1><p class="header_filename break_within"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span></p><form action="https://google.com/search" method="get" id="search_form"><input type="hidden" name="sitesearch" value="https://leanprover-community.github.io/mathlib4_docs"></input><input type="text" name="q" autocomplete="off"></input>&#32;
            <button id="search_button" onclick="javascript: form.action='../.././search.html';">Search</button><button>Google site search</button></form></header><nav class="internal_nav"><h3><a class="break_within" href="#top"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span></a></h3><p class="gh_nav_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean">source</a></p><div class="imports"><details><summary>Imports</summary><ul><li><a href="../.././Init.html">Init</a></li><li><a href="../.././Lean/Elab/Binders.html">Lean.Elab.Binders</a></li><li><a href="../.././Lean/Elab/SyntheticMVars.html">Lean.Elab.SyntheticMVars</a></li></ul></details><details><summary>Imported by</summary><ul id="imported-by-Lean.Elab.Command" class="imported-by-list"></ul></details></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.Scope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">Scope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instInhabitedScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instInhabitedScope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.State"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">State</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instNonemptyState"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instNonemptyState</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.Context"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">Context</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.CommandElabCoreM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">CommandElabCoreM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.CommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">CommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.CommandElab"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">CommandElab</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.Linter"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">Linter</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.mkState"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">mkState</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.lintersRef"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">lintersRef</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.addLinter"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">addLinter</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadInfoTreeCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadInfoTreeCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadEnvCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadEnvCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadOptionsCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadOptionsCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getRef"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getRef</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instAddMessageContextCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instAddMessageContextCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadRefCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadRefCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadTraceCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadTraceCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instAddErrorMessageContextCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instAddErrorMessageContextCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.mkMessageAux"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">mkMessageAux</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.liftCoreM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">liftCoreM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.liftEIO"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">liftEIO</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.liftIO"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">liftIO</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadLiftTIOCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadLiftTIOCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getScope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadResolveNameCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadResolveNameCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadLogCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadLogCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.runLinters"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">runLinters</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getCurrMacroScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getCurrMacroScope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getMainModule"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getMainModule</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.withFreshMacroScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">withFreshMacroScope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadQuotationCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadQuotationCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.mkCommandElabAttributeUnsafe"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">mkCommandElabAttributeUnsafe</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.mkCommandElabAttribute"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">mkCommandElabAttribute</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.commandElabAttribute"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">commandElabAttribute</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.withMacroExpansion"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">withMacroExpansion</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadMacroAdapterCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadMacroAdapterCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instMonadRecDepthCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadRecDepthCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.showPartialSyntaxErrors"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">showPartialSyntaxErrors</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.elabCommand"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">elabCommand</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.elabCommandTopLevel"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">elabCommandTopLevel</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.adaptExpander"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">adaptExpander</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.instInhabitedCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instInhabitedCommandElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getBracketedBinderIds"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getBracketedBinderIds</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.liftTermElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">liftTermElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.runTermElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">runTermElabM</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.catchExceptions"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">catchExceptions</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getScopes"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getScopes</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.modifyScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">modifyScope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.withScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">withScope</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.getLevelNames"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getLevelNames</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.addUnivLevel"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">addUnivLevel</span></a></div><div class="nav_link"><a class="break_within" href="#Lean.Elab.Command.expandDeclId"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">expandDeclId</span></a></div></nav><main>
<div class="decl" id="Lean.Elab.Command.Scope"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L11-L23">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">Scope</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.Elab.Command.Scope.mk"><li id="Lean.Elab.Command.Scope.header" class="structure_field"><div class="structure_field_info">header : <a href="../.././Init/Prelude.html#String">String</a></div></li><li id="Lean.Elab.Command.Scope.opts" class="structure_field"><div class="structure_field_info">opts : <a href="../.././Lean/Data/Options.html#Lean.Options">Lean.Options</a></div></li><li id="Lean.Elab.Command.Scope.currNamespace" class="structure_field"><div class="structure_field_info">currNamespace : <a href="../.././Init/Prelude.html#Lean.Name">Lake.Name</a></div></li><li id="Lean.Elab.Command.Scope.openDecls" class="structure_field"><div class="structure_field_info">openDecls : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Data/OpenDecl.html#Lean.OpenDecl">Lean.OpenDecl</a></span></div></li><li id="Lean.Elab.Command.Scope.levelNames" class="structure_field"><div class="structure_field_info">levelNames : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lake.Name</a></span></div></li><li id="Lean.Elab.Command.Scope.varDecls" class="structure_field"><div class="structure_field_info">varDecls : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> (<span class="fn"><a href="../.././Init/Prelude.html#Lean.TSyntax">Lean.TSyntax</a> <span class="fn">`Lean.Parser.Term.bracketedBinder</span></span>)</span></div><div class="structure_field_doc"><p>section variables</p></div></li><li id="Lean.Elab.Command.Scope.varUIds" class="structure_field"><div class="structure_field_info">varUIds : <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Lean.Name">Lake.Name</a></span></div><div class="structure_field_doc"><p>Globally unique internal identifiers for the <code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope.varDecls">varDecls</a></code></p></div></li><li id="Lean.Elab.Command.Scope.isNoncomputable" class="structure_field"><div class="structure_field_info">isNoncomputable : <a href="../.././Init/Prelude.html#Bool">Bool</a></div><div class="structure_field_doc"><p>noncomputable sections automatically add the <code>noncomputable</code> modifier to any declaration we cannot generate code for.</p></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.Scope" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instInhabitedScope"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L23-L23">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instInhabitedScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instInhabitedScope</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.State"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L25-L35">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.State"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">State</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.Elab.Command.State.mk"><li id="Lean.Elab.Command.State.env" class="structure_field"><div class="structure_field_info">env : <a href="../.././Lean/Environment.html#Lean.Environment">Lean.Environment</a></div></li><li id="Lean.Elab.Command.State.messages" class="structure_field"><div class="structure_field_info">messages : <a href="../.././Lean/Message.html#Lean.MessageLog">Lean.MessageLog</a></div></li><li id="Lean.Elab.Command.State.scopes" class="structure_field"><div class="structure_field_info">scopes : <span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span></div></li><li id="Lean.Elab.Command.State.nextMacroScope" class="structure_field"><div class="structure_field_info">nextMacroScope : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Elab.Command.State.maxRecDepth" class="structure_field"><div class="structure_field_info">maxRecDepth : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Elab.Command.State.nextInstIdx" class="structure_field"><div class="structure_field_info">nextInstIdx : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Elab.Command.State.ngen" class="structure_field"><div class="structure_field_info">ngen : <a href="../.././Init/Meta.html#Lean.NameGenerator">Lean.NameGenerator</a></div></li><li id="Lean.Elab.Command.State.infoState" class="structure_field"><div class="structure_field_info">infoState : <a href="../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoState">Lean.Elab.InfoState</a></div></li><li id="Lean.Elab.Command.State.traceState" class="structure_field"><div class="structure_field_info">traceState : <a href="../.././Lean/Util/Trace.html#Lean.TraceState">Lean.TraceState</a></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.State" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instNonemptyState"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L35-L35">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instNonemptyState"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instNonemptyState</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Nonempty">Nonempty</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.State">Lean.Elab.Command.State</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.Context"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L37-L45">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Context"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">Context</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.Elab.Command.Context.mk"><li id="Lean.Elab.Command.Context.fileName" class="structure_field"><div class="structure_field_info">fileName : <a href="../.././Init/Prelude.html#String">String</a></div></li><li id="Lean.Elab.Command.Context.fileMap" class="structure_field"><div class="structure_field_info">fileMap : <a href="../.././Lean/Data/Position.html#Lean.FileMap">Lean.FileMap</a></div></li><li id="Lean.Elab.Command.Context.currRecDepth" class="structure_field"><div class="structure_field_info">currRecDepth : <a href="../.././Init/Prelude.html#Nat">Nat</a></div></li><li id="Lean.Elab.Command.Context.cmdPos" class="structure_field"><div class="structure_field_info">cmdPos : <a href="../.././Init/Prelude.html#String.Pos">String.Pos</a></div></li><li id="Lean.Elab.Command.Context.macroStack" class="structure_field"><div class="structure_field_info">macroStack : <a href="../.././Lean/Elab/Util.html#Lean.Elab.MacroStack">Lean.Elab.MacroStack</a></div></li><li id="Lean.Elab.Command.Context.currMacroScope" class="structure_field"><div class="structure_field_info">currMacroScope : <a href="../.././Init/Prelude.html#Lean.MacroScope">Lean.MacroScope</a></div></li><li id="Lean.Elab.Command.Context.ref" class="structure_field"><div class="structure_field_info">ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></div></li><li id="Lean.Elab.Command.Context.tacticCache?" class="structure_field"><div class="structure_field_info">tacticCache? : <span class="fn"><a href="../.././Init/Prelude.html#Option">Option</a> (<span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> <a href="../.././Lean/Elab/Term.html#Lean.Elab.Tactic.Cache">Lean.Elab.Tactic.Cache</a></span>)</span></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.Context" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.CommandElabCoreM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L47-L47">source</a></div><div class="attributes">@[inline, reducible]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabCoreM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">CommandElabCoreM</span></a></span><span class="decl_args">
<span class="fn">(ε : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args">
<span class="fn">(α : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.CommandElabCoreM" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.CommandElabM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L48-L48">source</a></div><div class="attributes">@[inline, reducible]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">CommandElabM</span></a></span><span class="decl_args">
<span class="fn">(α : <a href="../.././foundational_types.html">Type</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.CommandElabM" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.CommandElab"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L49-L49">source</a></div><div class="attributes">@[inline, reducible]</div>
<div class="decl_header"><span class="decl_kind">abbrev</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">CommandElab</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.CommandElab" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.Linter"><div class="structure"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L50-L52">source</a></div><div class="decl_header"><span class="decl_kind">structure</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Linter"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">Linter</span></a></span><span class="decl_args"> :</span><div class="decl_type"><a href="../.././foundational_types.html">Type</a></div></div><ul class="structure_fields" id="Lean.Elab.Command.Linter.mk"><li id="Lean.Elab.Command.Linter.run" class="structure_field"><div class="structure_field_info">run : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></span></div></li><li id="Lean.Elab.Command.Linter.name" class="structure_field"><div class="structure_field_info">name : <a href="../.././Init/Prelude.html#Lean.Name">Lake.Name</a></div></li></ul><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.Linter" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L61-L61">source</a></div><div class="attributes">@[always_inline]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Monad">Monad</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.mkState"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L63-L68">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.mkState"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">mkState</span></a></span><span class="decl_args">
<span class="fn">(env : <a href="../.././Lean/Environment.html#Lean.Environment">Lean.Environment</a>)</span></span>
<span class="decl_args">
<span class="fn">(messages : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Message.html#Lean.MessageLog">Lean.MessageLog</a>
  <span class="fn">{
    <span class="fn">msgs</span> :=
      <span class="fn">{ <span class="fn">root</span> := <span class="fn"><a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArrayNode.node">Lean.PersistentArrayNode.node</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt/Basic.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>)</span>,
        <span class="fn">tail</span> := <span class="fn"><a href="../.././Init/Prelude.html#Array.mkEmpty">Array.mkEmpty</a> (<span class="fn"><a href="../.././Init/Data/UInt/Basic.html#USize.toNat">USize.toNat</a> <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.branching">Lean.PersistentArray.branching</a></span>)</span>, <span class="fn">size</span> := <span class="fn">0</span>,
        <span class="fn">shift</span> := <a href="../.././Lean/Data/PersistentArray.html#Lean.PersistentArray.initShift">Lean.PersistentArray.initShift</a>, <span class="fn">tailOff</span> := <span class="fn">0</span> }</span> }</span></span>)</span></span>
<span class="decl_args">
<span class="fn">(opts : <span class="fn"><a href="../.././Init/Prelude.html#optParam">optParam</a> <a href="../.././Lean/Data/Options.html#Lean.Options">Lean.Options</a> <span class="fn">{ <span class="fn">entries</span> := <span class="fn">[]</span> }</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.State">Lean.Elab.Command.State</a></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.mkState" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.lintersRef"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L72-L72">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.lintersRef"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">lintersRef</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO.Ref">IO.Ref</a> (<span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Linter">Lean.Linter</a></span>)</span></div></div></div></div><div class="decl" id="Lean.Elab.Command.addLinter"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L75-L77">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.addLinter"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">addLinter</span></a></span><span class="decl_args">
<span class="fn">(l : <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Linter">Lean.Linter</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.addLinter" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadInfoTreeCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L79-L81">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadInfoTreeCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadInfoTreeCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/InfoTree/Types.html#Lean.Elab.MonadInfoTree">Lean.Elab.MonadInfoTree</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.instMonadEnvCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L83-L85">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadEnvCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadEnvCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Environment.html#Lean.MonadEnv">Lean.MonadEnv</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.instMonadOptionsCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L88-L89">source</a></div><div class="attributes">@[always_inline]</div>
<div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadOptionsCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadOptionsCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Options.html#Lean.MonadOptions">Lean.MonadOptions</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.getRef"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L91-L92">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getRef"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getRef</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.getRef" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instAddMessageContextCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L94-L95">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instAddMessageContextCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instAddMessageContextCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Message.html#Lean.AddMessageContext">Lean.AddMessageContext</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.instMonadRefCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L97-L99">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadRefCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadRefCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Lean.MonadRef">Lean.MonadRef</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.instMonadTraceCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L101-L103">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadTraceCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadTraceCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Util/Trace.html#Lean.MonadTrace">Lean.MonadTrace</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.instAddErrorMessageContextCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L105-L111">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instAddErrorMessageContextCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instAddErrorMessageContextCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Exception.html#Lean.AddErrorMessageContext">Lean.AddErrorMessageContext</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.mkMessageAux"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L113-L116">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.mkMessageAux"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">mkMessageAux</span></a></span><span class="decl_args">
<span class="fn">(ctx : <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Context">Lean.Elab.Command.Context</a>)</span></span>
<span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(msgData : <a href="../.././Lean/Message.html#Lean.MessageData">Lean.MessageData</a>)</span></span>
<span class="decl_args">
<span class="fn">(severity : <a href="../.././Lean/Message.html#Lean.MessageSeverity">Lean.MessageSeverity</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Message.html#Lean.Message">Lean.Message</a></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.mkMessageAux" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.liftCoreM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L152-L169">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftCoreM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">liftCoreM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/CoreM.html#Lean.Core.CoreM">Lean.CoreM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.liftCoreM" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.liftEIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L175-L175">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftEIO"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">liftEIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Init/System/IO.html#EIO">EIO</a> <a href="../.././Lean/Exception.html#Lean.Exception">Lean.Exception</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.liftEIO" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.liftIO"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L177-L179">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftIO"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">liftIO</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.liftIO" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadLiftTIOCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L181-L182">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadLiftTIOCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadLiftTIOCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#MonadLiftT">MonadLiftT</a> <a href="../.././Init/System/IO.html#IO">IO</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.getScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L184-L184">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getScope</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.getScope" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadResolveNameCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L186-L188">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadResolveNameCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadResolveNameCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/ResolveName.html#Lean.MonadResolveName">Lean.MonadResolveName</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.instMonadLogCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L190-L199">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadLogCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadLogCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Log.html#Lean.MonadLog">Lean.MonadLog</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.runLinters"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L201-L214">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.runLinters"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">runLinters</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.runLinters" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getCurrMacroScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L216-L216">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getCurrMacroScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getCurrMacroScope</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Nat">Nat</a></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.getCurrMacroScope" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getMainModule"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L217-L217">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getMainModule"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getMainModule</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Lean.Name">Lake.Name</a></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.getMainModule" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.withFreshMacroScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L219-L221">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.withFreshMacroScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">withFreshMacroScope</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.withFreshMacroScope" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadQuotationCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L223-L226">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadQuotationCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadQuotationCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Lean.MonadQuotation">Lean.MonadQuotation</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.mkCommandElabAttributeUnsafe"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L228-L229">source</a></div><div class="decl_header"><span class="decl_kind">unsafe def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.mkCommandElabAttributeUnsafe"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">mkCommandElabAttributeUnsafe</span></a></span><span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Name">Lake.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn"><a href="../.././Lean/KeyedDeclsAttribute.html#Lean.KeyedDeclsAttribute">Lean.KeyedDeclsAttribute</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a></span>)</span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.mkCommandElabAttributeUnsafe" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.mkCommandElabAttribute"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L232-L232">source</a></div><div class="attributes">@[implemented_by Lean.Elab.Command.mkCommandElabAttributeUnsafe]</div>
<div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.mkCommandElabAttribute"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">mkCommandElabAttribute</span></a></span><span class="decl_args">
<span class="fn">(ref : <a href="../.././Init/Prelude.html#Lean.Name">Lake.Name</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/System/IO.html#IO">IO</a> (<span class="fn"><a href="../.././Lean/KeyedDeclsAttribute.html#Lean.KeyedDeclsAttribute">Lean.KeyedDeclsAttribute</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a></span>)</span></div></div></div></div><div class="decl" id="Lean.Elab.Command.commandElabAttribute"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L234-L234">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.commandElabAttribute"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">commandElabAttribute</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/KeyedDeclsAttribute.html#Lean.KeyedDeclsAttribute">Lean.KeyedDeclsAttribute</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.withMacroExpansion"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L254-L256">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.withMacroExpansion"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">withMacroExpansion</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(beforeStx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(afterStx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><p>Elaborate <code>x</code> with <code>stx</code> on the macro stack</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.withMacroExpansion" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instMonadMacroAdapterCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L258-L261">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadMacroAdapterCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadMacroAdapterCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Util.html#Lean.Elab.MonadMacroAdapter">Lean.Elab.MonadMacroAdapter</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.instMonadRecDepthCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L263-L266">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instMonadRecDepthCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instMonadRecDepthCommandElabM</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Exception.html#Lean.MonadRecDepth">Lean.MonadRecDepth</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.showPartialSyntaxErrors"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L268-L271">source</a></div><div class="decl_header"><span class="decl_kind">opaque</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.showPartialSyntaxErrors"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">showPartialSyntaxErrors</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Data/Options.html#Lean.Option">Lean.Option</a> <a href="../.././Init/Prelude.html#Bool">Bool</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.elabCommand"><div class="opaque"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L275-L299">source</a></div><div class="decl_header"><span class="decl_kind">partial def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.elabCommand"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">elabCommand</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div></div></div><div class="decl" id="Lean.Elab.Command.elabCommandTopLevel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L307-L331">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.elabCommandTopLevel"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">elabCommandTopLevel</span></a></span><span class="decl_args">
<span class="fn">(stx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><p><code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.elabCommand">elabCommand</a></code> wrapper that should be used for the initial invocation, not for recursive calls after
macro expansion etc.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.elabCommandTopLevel" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.adaptExpander"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L334-L336">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.adaptExpander"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">adaptExpander</span></a></span><span class="decl_args">
<span class="fn">(exp : <span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElab">Lean.Elab.Command.CommandElab</a></div></div><p>Adapt a syntax transformation to a regular, command-producing elaborator.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.adaptExpander" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.instInhabitedCommandElabM"><div class="instance"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L341-L342">source</a></div><div class="decl_header"><span class="decl_kind">instance</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.instInhabitedCommandElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">instInhabitedCommandElabM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Inhabited">Inhabited</a> (<span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span>)</span></div></div></div></div><div class="decl" id="Lean.Elab.Command.getBracketedBinderIds"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L350-L355">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getBracketedBinderIds"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getBracketedBinderIds</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a> → <span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Init/Prelude.html#Lean.Name">Lake.Name</a></span></span></div></div><p>Return identifier names in the given bracketed binder.</p><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.getBracketedBinderIds" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.liftTermElabM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L391-L414">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftTermElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">liftTermElabM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><p>Lift the <code>TermElabM</code> monadic action <code>x</code> into a <code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">CommandElabM</a></code> monadic action.</p><p>Note that <code>x</code> is executed with an empty message log. Thus, <code>x</code> cannot modify/view messages produced by
previous commands.</p><p>If you need to access the free variables corresponding to the ones declared using the <code>variable</code> command,
consider using <code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.runTermElabM">runTermElabM</a></code>.</p><p>Recall that <code>TermElabM</code> actions can automatically lift <code>MetaM</code> and <code>CoreM</code> actions.
Example:</p><pre><code>import <a href="../.././Lean.html">Lean</a>

open <a href="../.././Lean.html">Lean</a> Elab Command Meta

def printExpr (e : Expr) : MetaM <a href="../.././Init/Prelude.html#Unit">Unit</a> := do
  <a href="../.././Init/System/IO.html#IO.println">IO.println</a> s!"{← ppExpr e} : {← ppExpr (← inferType e)}"

#eval
  <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftTermElabM">liftTermElabM</a> do
    printExpr (mkConst ``Nat)
</code></pre><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.liftTermElabM" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.runTermElabM"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L438-L455">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.runTermElabM"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">runTermElabM</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(elabFn : <span class="fn"><span class="fn"><a href="../.././Init/Prelude.html#Array">Array</a> <a href="../.././Lean/Expr.html#Lean.Expr">Lean.Expr</a></span> → <span class="fn"><a href="../.././Lean/Elab/Term.html#Lean.Elab.Term.TermElabM">Lean.Elab.TermElabM</a> <span class="fn">α</span></span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><p>Execute the monadic action <code>elabFn xs</code> as a <code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">CommandElabM</a></code> monadic action, where <code>xs</code> are free variables
corresponding to all active scoped variables declared using the <code>variable</code> command.</p><p>This method is similar to <code><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.liftTermElabM">liftTermElabM</a></code>, but it elaborates all scoped variables declared using the <code>variable</code>
command.</p><p>Example:</p><pre><code>import <a href="../.././Lean.html">Lean</a>

open <a href="../.././Lean.html">Lean</a> Elab Command Meta

variable {α : Type u} {f : α → α}
variable (n : Nat)

#eval
  <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.runTermElabM">runTermElabM</a> fun xs => do
    for x in xs do
      <a href="../.././Init/System/IO.html#IO.println">IO.println</a> s!"{← ppExpr x} : {← ppExpr (← inferType x)}"
</code></pre><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.runTermElabM" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.catchExceptions"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L457-L458">source</a></div><div class="attributes">@[inline]</div>
<div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.catchExceptions"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">catchExceptions</span></a></span><span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabCoreM">Lean.Elab.Command.CommandElabCoreM</a> <a href="../.././Init/Prelude.html#Empty">Empty</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.catchExceptions" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getScopes"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L463-L464">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getScopes"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getScopes</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span>)</span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.getScopes" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.modifyScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L466-L471">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.modifyScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">modifyScope</span></a></span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a> → <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.modifyScope" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.withScope"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L473-L481">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.withScope"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">withScope</span></a></span><span class="impl_arg"><span class="decl_args">
<span class="fn">{α : <a href="../.././foundational_types.html">Type</a>}</span></span>
</span><span class="decl_args">
<span class="fn">(f : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a> → <a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.Scope">Lean.Elab.Command.Scope</a></span>)</span></span>
<span class="decl_args">
<span class="fn">(x : <span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <span class="fn">α</span></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.withScope" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.getLevelNames"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L483-L484">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.getLevelNames"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">getLevelNames</span></a></span><span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> (<span class="fn"><a href="../.././Init/Prelude.html#List">List</a> <a href="../.././Init/Prelude.html#Lean.Name">Lake.Name</a></span>)</span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.getLevelNames" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.addUnivLevel"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L486-L492">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.addUnivLevel"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">addUnivLevel</span></a></span><span class="decl_args">
<span class="fn">(idStx : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Init/Prelude.html#Unit">Unit</a></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.addUnivLevel" class="instances-for-list"></ul></details></div></div><div class="decl" id="Lean.Elab.Command.expandDeclId"><div class="def"><div class="gh_link"><a href="https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Elab/Command.lean#L494-L501">source</a></div><div class="decl_header"><span class="decl_kind">def</span>
<span class="decl_name"><a class="break_within" href="../.././Lean/Elab/Command.html#Lean.Elab.Command.expandDeclId"><span class="name">Lean</span>.<span class="name">Elab</span>.<span class="name">Command</span>.<span class="name">expandDeclId</span></a></span><span class="decl_args">
<span class="fn">(declId : <a href="../.././Init/Prelude.html#Lean.Syntax">Lean.Syntax</a>)</span></span>
<span class="decl_args">
<span class="fn">(modifiers : <a href="../.././Lean/Elab/DeclModifiers.html#Lean.Elab.Modifiers">Lean.Elab.Modifiers</a>)</span></span>
<span class="decl_args"> :</span><div class="decl_type"><span class="fn"><a href="../.././Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM">Lean.Elab.Command.CommandElabM</a> <a href="../.././Lean/Elab/DeclModifiers.html#Lean.Elab.ExpandDeclIdResult">Lean.Elab.ExpandDeclIdResult</a></span></div></div><details class="instances"><summary>Instances For</summary><ul id="instances-for-list-Lean.Elab.Command.expandDeclId" class="instances-for-list"></ul></details></div></div></main>
<nav class="nav"><iframe src="../.././navbar.html" class="navframe" frameBorder="0"></iframe></nav></body></html>