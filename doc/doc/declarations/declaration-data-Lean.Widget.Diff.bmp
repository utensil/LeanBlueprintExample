{"name":"Lean.Widget.Diff","instances":[{"typeNames":["_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag"],"name":"Lean.Widget.instToStringExprDiffTag","className":"ToString"},{"typeNames":["Lean.Widget.ExprDiff"],"name":"Lean.Widget.instEmptyCollectionExprDiff","className":"EmptyCollection"},{"typeNames":["Lean.Widget.ExprDiff"],"name":"Lean.Widget.instAppendExprDiff","className":"Append"},{"typeNames":["Lean.Widget.ExprDiff"],"name":"Lean.Widget.instToStringExprDiff","className":"ToString"}],"imports":["Init","Lean.Meta.PPGoal","Lean.Widget.InteractiveCode","Lean.Widget.InteractiveGoal","Lean.Data.Lsp.Extra","Lean.Elab.InfoTree"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L254-L278","name":"Lean.Widget.diffInteractiveGoals","line":254,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.diffInteractiveGoals","doc":"Modifies `goalsAfter` with additional information about how it is different to `goalsBefore`.\nIf `useAfter` is `true` then `igs₁` is the set of interactive goals _after_ the tactic has been applied.\nOtherwise `igs₁` is the set of interactive goals _before_. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.diffInteractiveGoals\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">diffInteractiveGoals</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(useAfter : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(info : <a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.TacticInfo\">Lean.Elab.TacticInfo</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(igs₁ : <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveGoals\">Lean.Widget.InteractiveGoals</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveGoals\">Lean.Widget.InteractiveGoals</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L234-L249","name":"Lean.Widget.diffInteractiveGoal","line":234,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.diffInteractiveGoal","doc":"Decorates the given goal `i₁` with a diff by comparing with goal `g₀`.\nIf `useAfter` is true then `i₁` is _after_ and `g₀` is _before_. Otherwise they are swapped. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.diffInteractiveGoal\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">diffInteractiveGoal</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(useAfter : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(g₀ : <a href=\"./Lean/Expr.html#Lean.MVarId\">Lean.MVarId</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(i₁ : <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveGoal\">Lean.Widget.InteractiveGoal</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveGoal\">Lean.Widget.InteractiveGoal</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L228-L230","name":"Lean.Widget.diffHypotheses","line":228,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.diffHypotheses","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.diffHypotheses\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">diffHypotheses</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(useAfter : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(lctx₀ : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">Lean.LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hs₁ : <span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">Lean.Widget.InteractiveHypothesisBundle</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> (<span class=\"fn\"><a href=\"./Init/Prelude.html#Array\">Array</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">Lean.Widget.InteractiveHypothesisBundle</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L220-L226","name":"Lean.Widget.diffHypothesesBundle.withTypeDiff","line":220,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.diffHypothesesBundle.withTypeDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.diffHypothesesBundle.withTypeDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">diffHypothesesBundle</span>.<span class=\"name\">withTypeDiff</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(useAfter : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(t₀ : <a href=\"./Lean/Expr.html#Lean.Expr\">Lean.Expr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(h₁ : <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">Lean.Widget.InteractiveHypothesisBundle</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">Lean.Widget.InteractiveHypothesisBundle</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L203-L226","name":"Lean.Widget.diffHypothesesBundle","line":203,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.diffHypothesesBundle","doc":"Diffs the given hypothesis bundle against the given local context.\n\nIf `useAfter == true`, `ctx₀` is the context _before_ and `h₁` is the bundle _after_.\nIf `useAfter == false`, these are swapped.\n "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.diffHypothesesBundle\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">diffHypothesesBundle</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(useAfter : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(ctx₀ : <a href=\"./Lean/LocalContext.html#Lean.LocalContext\">Lean.LocalContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(h₁ : <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">Lean.Widget.InteractiveHypothesisBundle</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Lean/Widget/InteractiveGoal.html#Lean.Widget.InteractiveHypothesisBundle\">Lean.Widget.InteractiveHypothesisBundle</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L192-L194","name":"Lean.Widget.addDiffTags","line":192,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.addDiffTags","doc":"Given a `diff` between `before` and `after : Expr`, and the rendered `infoAfter : CodeWithInfos` for `after`,\nthis function decorates `infoAfter` with tags indicating where the expression has changed.\n\nIf `useAfter == false` before and after are swapped. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.addDiffTags\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">addDiffTags</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(useAfter : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(diff : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(info₁ : <a href=\"./Lean/Widget/InteractiveCode.html#Lean.Widget.CodeWithInfos\">Lean.Widget.CodeWithInfos</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Lean/Widget/InteractiveCode.html#Lean.Widget.CodeWithInfos\">Lean.Widget.CodeWithInfos</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L180-L186","name":"Lean.Widget.exprDiff","line":180,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.exprDiff","doc":"Computes the diff for `e₀` and `e₁`. If `useAfter` is `false`, `e₀, e₁` are interpreted as `after, before` instead of `before, after`."},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.exprDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">exprDiff</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(e₀ : <a href=\"./Lean/Expr.html#Lean.Expr\">Lean.Expr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(e₁ : <a href=\"./Lean/Expr.html#Lean.Expr\">Lean.Expr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(useAfter : <span class=\"fn\"><a href=\"./Init/Prelude.html#optParam\">optParam</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a> <a href=\"./Init/Prelude.html#Bool.true\">true</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L140-L177","name":"Lean.Widget.exprDiffCore.piDiff","line":140,"kind":"opaque","docLink":"./Lean/Widget/Diff.html#Lean.Widget.exprDiffCore.piDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.exprDiffCore.piDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">exprDiffCore</span>.<span class=\"name\">piDiff</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(before : <a href=\"./Lean/SubExpr.html#Lean.SubExpr\">Lean.SubExpr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(after : <a href=\"./Lean/SubExpr.html#Lean.SubExpr\">Lean.SubExpr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L106-L177","name":"Lean.Widget.exprDiffCore","line":106,"kind":"opaque","docLink":"./Lean/Widget/Diff.html#Lean.Widget.exprDiffCore","doc":"Computes a diff between `before` and `after` expressions.\n\nThis works by recursively comparing function arguments.\n\nTODO(ed): experiment with a 'greatest common subexpression' design where\n  given `e₀`, `e₁`, find the greatest common subexpressions `Xs : Array Expr` and a congruence `F` such that\n  `e₀ = F[A₀[..Xs]]` and `e₀ = F[A₁[..Xs]]`. Then, we can have fancy diff highlighting where common subexpressions are not highlighted.\n\n## Diffing binders\n\nTwo binding domains are identified if they have the same user name and the same type.\nThe most common tactic that modifies binders is after an `intros`.\nTo deal with this case, if `before = (a : α) → β` and `after`, is not a matching binder (ie: not `(a : α) → _`)\nthen we instantiate the `before` variable in a new context and continue diffing `β` against `after`.\n\n "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">partial def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.exprDiffCore\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">exprDiffCore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(before : <a href=\"./Lean/SubExpr.html#Lean.SubExpr\">Lean.SubExpr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(after : <a href=\"./Lean/SubExpr.html#Lean.SubExpr\">Lean.SubExpr</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Meta/Basic.html#Lean.Meta.MetaM\">Lean.MetaM</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L87-L88","name":"Lean.Widget.ExprDiff.isEmpty","line":87,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.isEmpty","doc":"If true, the expression before and the expression after are identical. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.isEmpty\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">isEmpty</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(d : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L83-L84","name":"Lean.Widget.ExprDiff.withChange","line":83,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.withChange","doc":"Add a tag to the diff at the positions given by `before` and `after`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.withChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">withChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(before : <a href=\"./Lean/SubExpr.html#Lean.SubExpr\">Lean.SubExpr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(after : <a href=\"./Lean/SubExpr.html#Lean.SubExpr\">Lean.SubExpr</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(d : <span class=\"fn\"><a href=\"./Init/Prelude.html#optParam\">optParam</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag.change\">Lean.Widget.ExprDiffTag.change</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L77-L80","name":"Lean.Widget.ExprDiff.withChangePos","line":77,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.withChangePos","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.withChangePos\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">withChangePos</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(before : <a href=\"./Lean/SubExpr.html#Lean.SubExpr.Pos\">Lean.SubExpr.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(after : <a href=\"./Lean/SubExpr.html#Lean.SubExpr.Pos\">Lean.SubExpr.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(d : <span class=\"fn\"><a href=\"./Init/Prelude.html#optParam\">optParam</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag.change\">Lean.Widget.ExprDiffTag.change</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L74-L75","name":"Lean.Widget.ExprDiff.insertAfterChange","line":74,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.insertAfterChange","doc":"Add a tag at the given position to the `changesAfter` dict. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.insertAfterChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">insertAfterChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/SubExpr.html#Lean.SubExpr.Pos\">Lean.SubExpr.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(d : <span class=\"fn\"><a href=\"./Init/Prelude.html#optParam\">optParam</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag.change\">Lean.Widget.ExprDiffTag.change</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(δ : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L70-L71","name":"Lean.Widget.ExprDiff.insertBeforeChange","line":70,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.insertBeforeChange","doc":"Add a tag at the given position to the `changesBefore` dict. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.insertBeforeChange\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">insertBeforeChange</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(p : <a href=\"./Lean/SubExpr.html#Lean.SubExpr.Pos\">Lean.SubExpr.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(d : <span class=\"fn\"><a href=\"./Init/Prelude.html#optParam\">optParam</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag.change\">Lean.Widget.ExprDiffTag.change</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(δ : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L63-L67","name":"Lean.Widget.instToStringExprDiff","line":63,"kind":"instance","docLink":"./Lean/Widget/Diff.html#Lean.Widget.instToStringExprDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.instToStringExprDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">instToStringExprDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/ToString/Basic.html#ToString\">ToString</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L58-L62","name":"Lean.Widget.instAppendExprDiff","line":58,"kind":"instance","docLink":"./Lean/Widget/Diff.html#Lean.Widget.instAppendExprDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.instAppendExprDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">instAppendExprDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Prelude.html#Append\">Append</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L57-L57","name":"Lean.Widget.instEmptyCollectionExprDiff","line":57,"kind":"instance","docLink":"./Lean/Widget/Diff.html#Lean.Widget.instEmptyCollectionExprDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.instEmptyCollectionExprDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">instEmptyCollectionExprDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Core.html#EmptyCollection\">EmptyCollection</a> <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L55-L55","name":"Lean.Widget.ExprDiff.changesAfter","line":55,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.changesAfter","doc":"A map from subexpr positions in `e₁` to 'diff points' which are tags\ndescribing how the expression has changed relative to `before` at the given position."},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.changesAfter\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">changesAfter</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/SubExpr.html#Lean.SubExpr.PosMap\">Lean.SubExpr.PosMap</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L52-L52","name":"Lean.Widget.ExprDiff.changesBefore","line":52,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.changesBefore","doc":"Map from subexpr positions in `e₀` to diff points."},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.changesBefore\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">changesBefore</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/SubExpr.html#Lean.SubExpr.PosMap\">Lean.SubExpr.PosMap</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L50-L55","name":"Lean.Widget.ExprDiff","line":50,"kind":"structure","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff","doc":"A description of the differences between a pair of expressions `before`, `after : Expr`.\nThe information can be used to display a 'visual diff' for\neither `before`, showing the parts of the expression that are about to change,\nor `after` showing which parts of the expression have changed. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L44-L44","name":"Lean.Widget.instToStringExprDiffTag","line":44,"kind":"instance","docLink":"./Lean/Widget/Diff.html#Lean.Widget.instToStringExprDiffTag","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">instance</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.instToStringExprDiffTag\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">instToStringExprDiffTag</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/Data/ToString/Basic.html#ToString\">ToString</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L39-L42","name":"Lean.Widget.ExprDiffTag.toString","line":39,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiffTag.toString","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiffTag.toString\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiffTag</span>.<span class=\"name\">toString</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a> → <a href=\"./Init/Prelude.html#String\">String</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L31-L37","name":"Lean.Widget.ExprDiffTag.toDiffTag","line":31,"kind":"def","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiffTag.toDiffTag","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiffTag.toDiffTag\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiffTag</span>.<span class=\"name\">toDiffTag</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(useAfter : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a> → <a href=\"./Lean/Widget/InteractiveCode.html#Lean.Widget.DiffTag\">Lean.Widget.DiffTag</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L15-L18","name":"Lean.Widget.showTacticDiff","line":15,"kind":"opaque","docLink":"./Lean/Widget/Diff.html#Lean.Widget.showTacticDiff","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.showTacticDiff\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">showTacticDiff</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Widget/Diff.lean#L1-L1","name":"Lean.Widget.ExprDiff.mk","line":1,"kind":"ctor","docLink":"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Widget</span>.<span class=\"name\">ExprDiff</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(changesBefore : <span class=\"fn\"><a href=\"./Lean/SubExpr.html#Lean.SubExpr.PosMap\">Lean.SubExpr.PosMap</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(changesAfter : <span class=\"fn\"><a href=\"./Lean/SubExpr.html#Lean.SubExpr.PosMap\">Lean.SubExpr.PosMap</a> <a href=\"./Lean/Widget/Diff.html#_private.Lean.Widget.Diff.0.Lean.Widget.ExprDiffTag\">Lean.Widget.ExprDiffTag</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Widget/Diff.html#Lean.Widget.ExprDiff\">Lean.Widget.ExprDiff</a></div></div>"}]}