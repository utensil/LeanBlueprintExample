{"name":"Lean.Server.Snapshots","instances":[],"imports":["Init","Init.System.IO","Lean.Elab.Import","Lean.Elab.Command","Lean.Widget.InteractiveDiagnostic"],"declarations":[{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L155-L161","name":"Lean.Server.Snapshots.compileNextCmd.withNewInteractiveDiags","line":155,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.compileNextCmd.withNewInteractiveDiags","doc":"Compute the current interactive diagnostics log by finding a \"diff\" relative to the parent\nsnapshot. We need to do this because unlike the `MessageLog` itself, interactive diags are not\npart of the command state. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.compileNextCmd.withNewInteractiveDiags\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">compileNextCmd</span>.<span class=\"name\">withNewInteractiveDiags</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(inputCtx : <a href=\"./Lean/Parser/Types.html#Lean.Parser.InputContext\">Lean.Parser.InputContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(snap : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hasWidgets : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(msgLog : <a href=\"./Lean/Message.html#Lean.MessageLog\">Lean.MessageLog</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> (<span class=\"fn\"><a href=\"./Lean/Data/PersistentArray.html#Lean.PersistentArray\">Lean.PersistentArray</a> <a href=\"./Lean/Widget/InteractiveDiagnostic.html#Lean.Widget.InteractiveDiagnostic\">Lean.Widget.InteractiveDiagnostic</a></span>)</span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L106-L161","name":"Lean.Server.Snapshots.compileNextCmd","line":106,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.compileNextCmd","doc":"Compiles the next command occurring after the given snapshot. If there is no next command\n(file ended), `Snapshot.isAtEnd` will hold of the return value. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.compileNextCmd\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">compileNextCmd</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(inputCtx : <a href=\"./Lean/Parser/Types.html#Lean.Parser.InputContext\">Lean.Parser.InputContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(snap : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(hasWidgets : <a href=\"./Init/Prelude.html#Bool\">Bool</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L95-L99","name":"Lean.Server.Snapshots.server.stderrAsMessages","line":95,"kind":"opaque","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.server.stderrAsMessages","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.server.stderrAsMessages\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">server</span>.<span class=\"name\">stderrAsMessages</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/Options.html#Lean.Option\">Lean.Option</a> <a href=\"./Init/Prelude.html#Bool\">Bool</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L87-L93","name":"Lean.Server.Snapshots.parseNextCmd","line":87,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.parseNextCmd","doc":"Parses the next command occurring after the given snapshot\nwithout elaborating it. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.parseNextCmd\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">parseNextCmd</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(inputCtx : <a href=\"./Lean/Parser/Types.html#Lean.Parser.InputContext\">Lean.Parser.InputContext</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(snap : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO\">IO</a> <a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L80-L81","name":"Lean.Server.Snapshots.Snapshot.runTermElabM","line":80,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.runTermElabM","doc":"Run a `TermElabM` computation using the data in the given snapshot."},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.runTermElabM\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">runTermElabM</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(snap : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(meta : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(c : <span class=\"fn\"><a href=\"./Lean/Elab/Term.html#Lean.Elab.Term.TermElabM\">Lean.Elab.TermElabM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#EIO\">EIO</a> <a href=\"./Lean/Exception.html#Lean.Exception\">Lean.Exception</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L76-L77","name":"Lean.Server.Snapshots.Snapshot.runCoreM","line":76,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.runCoreM","doc":"Run a `CoreM` computation using the data in the given snapshot."},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.runCoreM\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">runCoreM</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(snap : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(meta : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(c : <span class=\"fn\"><a href=\"./Lean/CoreM.html#Lean.Core.CoreM\">Lean.CoreM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#EIO\">EIO</a> <a href=\"./Lean/Exception.html#Lean.Exception\">Lean.Exception</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L66-L73","name":"Lean.Server.Snapshots.Snapshot.runCommandElabM","line":66,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.runCommandElabM","doc":"Use the command state in the given snapshot to run a `CommandElabM`."},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.runCommandElabM\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">runCommandElabM</span></a></span><span class=\"impl_arg\"><span class=\"decl_args\">\n<span class=\"fn\">{α : <a href=\"./foundational_types.html\">Type</a>}</span></span>\n</span><span class=\"decl_args\">\n<span class=\"fn\">(snap : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(meta : <a href=\"./Lean/Server/Utils.html#Lean.Server.DocumentMeta\">Lean.Server.DocumentMeta</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(c : <span class=\"fn\"><a href=\"./Lean/Elab/Command.html#Lean.Elab.Command.CommandElabM\">Lean.Elab.Command.CommandElabM</a> <span class=\"fn\">α</span></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#EIO\">EIO</a> <a href=\"./Lean/Exception.html#Lean.Exception\">Lean.Exception</a> <span class=\"fn\">α</span></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L61-L62","name":"Lean.Server.Snapshots.Snapshot.isAtEnd","line":61,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.isAtEnd","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.isAtEnd\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">isAtEnd</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Bool\">Bool</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L56-L59","name":"Lean.Server.Snapshots.Snapshot.infoTree","line":56,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.infoTree","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.infoTree\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">infoTree</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Elab/InfoTree/Types.html#Lean.Elab.InfoTree\">Lean.Elab.InfoTree</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L53-L54","name":"Lean.Server.Snapshots.Snapshot.diagnostics","line":53,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.diagnostics","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.diagnostics\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">diagnostics</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/PersistentArray.html#Lean.PersistentArray\">Lean.PersistentArray</a> <a href=\"./Lean/Data/Lsp/Diagnostics.html#Lean.Lsp.Diagnostic\">Lean.Lsp.Diagnostic</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L50-L51","name":"Lean.Server.Snapshots.Snapshot.msgLog","line":50,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.msgLog","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.msgLog\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">msgLog</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Message.html#Lean.MessageLog\">Lean.MessageLog</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L47-L48","name":"Lean.Server.Snapshots.Snapshot.env","line":47,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.env","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.env\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">env</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Environment.html#Lean.Environment\">Lean.Environment</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L44-L45","name":"Lean.Server.Snapshots.Snapshot.endPos","line":44,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.endPos","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">def</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.endPos\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">endPos</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(s : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#String.Pos\">String.Pos</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L40-L40","name":"Lean.Server.Snapshots.Snapshot.tacticCache","line":40,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.tacticCache","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.tacticCache\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">tacticCache</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Elab/Term.html#Lean.Elab.Tactic.Cache\">Lean.Elab.Tactic.Cache</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L39-L39","name":"Lean.Server.Snapshots.Snapshot.interactiveDiags","line":39,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.interactiveDiags","doc":"We cache interactive diagnostics in order not to invoke the pretty-printer again on messages\nfrom previous snapshots when publishing diagnostics for every new snapshot (this is quadratic),\nas well as not to invoke it once again when handling `$/lean/interactiveDiagnostics`. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.interactiveDiags\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">interactiveDiags</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Lean/Data/PersistentArray.html#Lean.PersistentArray\">Lean.PersistentArray</a> <a href=\"./Lean/Widget/InteractiveDiagnostic.html#Lean.Widget.InteractiveDiagnostic\">Lean.Widget.InteractiveDiagnostic</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L35-L35","name":"Lean.Server.Snapshots.Snapshot.cmdState","line":35,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.cmdState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.cmdState\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">cmdState</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Elab/Command.html#Lean.Elab.Command.State\">Lean.Elab.Command.State</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L34-L34","name":"Lean.Server.Snapshots.Snapshot.mpState","line":34,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.mpState","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.mpState\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">mpState</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Parser/Module.html#Lean.Parser.ModuleParserState\">Lean.Parser.ModuleParserState</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L33-L33","name":"Lean.Server.Snapshots.Snapshot.stx","line":33,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.stx","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.stx\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">stx</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L32-L32","name":"Lean.Server.Snapshots.Snapshot.beginPos","line":32,"kind":"def","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.beginPos","doc":"Where the command which produced this snapshot begins. Note that\nneighbouring snapshots are *not* necessarily attached beginning-to-end,\nsince inputs outside the grammar advance the parser but do not produce\nsnapshots. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">abbrev</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.beginPos\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">beginPos</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(self : <a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Init/Prelude.html#String.Pos\">String.Pos</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L27-L40","name":"Lean.Server.Snapshots.Snapshot","line":27,"kind":"structure","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot","doc":"What Lean knows about the world after the header and each command. "},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">structure</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./foundational_types.html\">Type</a></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L24-L24","name":"Lean.Server.Snapshots.dummyTacticCache","line":24,"kind":"opaque","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.dummyTacticCache","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">opaque</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.dummyTacticCache\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">dummyTacticCache</span></a></span><span class=\"decl_args\"> :</span><div class=\"decl_type\"><span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Elab/Term.html#Lean.Elab.Tactic.Cache\">Lean.Elab.Tactic.Cache</a></span></div></div>"},{"info":{"sourceLink":"https://github.com/leanprover/lean4/blob/a62d2fd4979671b76b8ab13ccbe4fdf410ec0d9d/src/Lean/Server/Snapshots.lean#L1-L1","name":"Lean.Server.Snapshots.Snapshot.mk","line":1,"kind":"ctor","docLink":"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.mk","doc":""},"header":"<div class=\"decl_header\"><span class=\"decl_kind\">constructor</span>\n<span class=\"decl_name\"><a class=\"break_within\" href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot.mk\"><span class=\"name\">Lean</span>.<span class=\"name\">Server</span>.<span class=\"name\">Snapshots</span>.<span class=\"name\">Snapshot</span>.<span class=\"name\">mk</span></a></span><span class=\"decl_args\">\n<span class=\"fn\">(beginPos : <a href=\"./Init/Prelude.html#String.Pos\">String.Pos</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(stx : <a href=\"./Init/Prelude.html#Lean.Syntax\">Lean.Syntax</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(mpState : <a href=\"./Lean/Parser/Module.html#Lean.Parser.ModuleParserState\">Lean.Parser.ModuleParserState</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(cmdState : <a href=\"./Lean/Elab/Command.html#Lean.Elab.Command.State\">Lean.Elab.Command.State</a>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(interactiveDiags : <span class=\"fn\"><a href=\"./Lean/Data/PersistentArray.html#Lean.PersistentArray\">Lean.PersistentArray</a> <a href=\"./Lean/Widget/InteractiveDiagnostic.html#Lean.Widget.InteractiveDiagnostic\">Lean.Widget.InteractiveDiagnostic</a></span>)</span></span>\n<span class=\"decl_args\">\n<span class=\"fn\">(tacticCache : <span class=\"fn\"><a href=\"./Init/System/IO.html#IO.Ref\">IO.Ref</a> <a href=\"./Lean/Elab/Term.html#Lean.Elab.Tactic.Cache\">Lean.Elab.Tactic.Cache</a></span>)</span></span>\n<span class=\"decl_args\"> :</span><div class=\"decl_type\"><a href=\"./Lean/Server/Snapshots.html#Lean.Server.Snapshots.Snapshot\">Lean.Server.Snapshots.Snapshot</a></div></div>"}]}